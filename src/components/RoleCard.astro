---
interface Props {
  role: {
    id: string;
    name: string;
    team: string;
    description: string;
    ability: string;
    icon: string;
    color: string;
    teamColor: string;
  };
}

const { role } = Astro.props;

// Configuraci贸n completa para modo claro y oscuro
const teamConfig: Record<string, { 
  badgeLight: string; 
  badgeDark: string;
  borderLight: string;
  borderDark: string;
  hoverBorderLight: string;
  hoverBorderDark: string;
  gradientLight: string;
  gradientDark: string;
  bgLight: string;
  bgDark: string;
  textLight: string;
  textDark: string;
}> = {
  green: {
    badgeLight: 'bg-green-100 text-green-800',
    badgeDark: 'dark:bg-green-900/40 dark:text-green-300',
    borderLight: 'border-green-200',
    borderDark: 'dark:border-green-900',
    hoverBorderLight: 'hover:border-green-300',
    hoverBorderDark: 'dark:hover:border-green-700',
    gradientLight: 'from-green-500 to-emerald-600',
    gradientDark: 'dark:from-green-600 dark:to-emerald-700',
    bgLight: 'bg-green-50',
    bgDark: 'dark:bg-green-950/20',
    textLight: 'text-green-600',
    textDark: 'dark:text-green-400'
  },
  red: {
    badgeLight: 'bg-red-100 text-red-800',
    badgeDark: 'dark:bg-red-900/40 dark:text-red-300',
    borderLight: 'border-red-200',
    borderDark: 'dark:border-red-900',
    hoverBorderLight: 'hover:border-red-300',
    hoverBorderDark: 'dark:hover:border-red-700',
    gradientLight: 'from-red-500 to-rose-600',
    gradientDark: 'dark:from-red-600 dark:to-rose-700',
    bgLight: 'bg-red-50',
    bgDark: 'dark:bg-red-950/20',
    textLight: 'text-red-600',
    textDark: 'dark:text-red-400'
  },
  blue: {
    badgeLight: 'bg-blue-100 text-blue-800',
    badgeDark: 'dark:bg-blue-900/40 dark:text-blue-300',
    borderLight: 'border-blue-200',
    borderDark: 'dark:border-blue-900',
    hoverBorderLight: 'hover:border-blue-300',
    hoverBorderDark: 'dark:hover:border-blue-700',
    gradientLight: 'from-blue-500 to-sky-600',
    gradientDark: 'dark:from-blue-600 dark:to-sky-700',
    bgLight: 'bg-blue-50',
    bgDark: 'dark:bg-blue-950/20',
    textLight: 'text-blue-600',
    textDark: 'dark:text-blue-400'
  },
  purple: {
    badgeLight: 'bg-purple-100 text-purple-800',
    badgeDark: 'dark:bg-purple-900/40 dark:text-purple-300',
    borderLight: 'border-purple-200',
    borderDark: 'dark:border-purple-900',
    hoverBorderLight: 'hover:border-purple-300',
    hoverBorderDark: 'dark:hover:border-purple-700',
    gradientLight: 'from-purple-500 to-violet-600',
    gradientDark: 'dark:from-purple-600 dark:to-violet-700',
    bgLight: 'bg-purple-50',
    bgDark: 'dark:bg-purple-950/20',
    textLight: 'text-purple-600',
    textDark: 'dark:text-purple-400'
  },
  pink: {
    badgeLight: 'bg-pink-100 text-pink-800',
    badgeDark: 'dark:bg-pink-900/40 dark:text-pink-300',
    borderLight: 'border-pink-200',
    borderDark: 'dark:border-pink-900',
    hoverBorderLight: 'hover:border-pink-300',
    hoverBorderDark: 'dark:hover:border-pink-700',
    gradientLight: 'from-pink-500 to-rose-600',
    gradientDark: 'dark:from-pink-600 dark:to-rose-700',
    bgLight: 'bg-pink-50',
    bgDark: 'dark:bg-pink-950/20',
    textLight: 'text-pink-600',
    textDark: 'dark:text-pink-400'
  },
  orange: {
    badgeLight: 'bg-orange-100 text-orange-800',
    badgeDark: 'dark:bg-orange-900/40 dark:text-orange-300',
    borderLight: 'border-orange-200',
    borderDark: 'dark:border-orange-900',
    hoverBorderLight: 'hover:border-orange-300',
    hoverBorderDark: 'dark:hover:border-orange-700',
    gradientLight: 'from-orange-500 to-amber-600',
    gradientDark: 'dark:from-orange-600 dark:to-amber-700',
    bgLight: 'bg-orange-50',
    bgDark: 'dark:bg-orange-950/20',
    textLight: 'text-orange-600',
    textDark: 'dark:text-orange-400'
  },
  gray: {
    badgeLight: 'bg-gray-100 text-gray-800',
    badgeDark: 'dark:bg-gray-800 dark:text-gray-300',
    borderLight: 'border-gray-200',
    borderDark: 'dark:border-gray-700',
    hoverBorderLight: 'hover:border-gray-300',
    hoverBorderDark: 'dark:hover:border-gray-600',
    gradientLight: 'from-gray-500 to-gray-600',
    gradientDark: 'dark:from-gray-600 dark:to-gray-700',
    bgLight: 'bg-gray-50',
    bgDark: 'dark:bg-gray-900/20',
    textLight: 'text-gray-600',
    textDark: 'dark:text-gray-400'
  }
};

// Obtener configuraci贸n
const getTeamConfig = (color: string) => {
  return teamConfig[color] || teamConfig.gray;
};

const teamCfg = getTeamConfig(role.teamColor);
---

<div class={`
  card border-2 ${teamCfg.borderLight} ${teamCfg.borderDark} 
  ${teamCfg.bgLight} ${teamCfg.bgDark}
  ${teamCfg.hoverBorderLight} ${teamCfg.hoverBorderDark}
  transition-all duration-300 hover:shadow-xl dark:hover:shadow-gray-900/50 
  hover:-translate-y-1 p-6 rounded-2xl backdrop-blur-sm
  group hover:scale-[1.02]
`}>
  <div class="flex items-start gap-5">
    <!-- Icono con gradiente y efecto de elevaci贸n -->
    <div class="relative flex-shrink-0">
      <!-- Sombra del icono -->
      <div class="absolute inset-0 bg-gradient-to-br ${teamCfg.gradientLight} ${teamCfg.gradientDark} opacity-70 blur-md rounded-xl group-hover:blur-lg transition-all"></div>
      
      <!-- Icono principal -->
      <div class={`
        relative w-16 h-16 rounded-xl bg-gradient-to-br 
        ${teamCfg.gradientLight} ${teamCfg.gradientDark}
        flex items-center justify-center text-white shadow-lg
        group-hover:shadow-xl group-hover:scale-105 transition-all
      `}>
        <span class="text-3xl font-bold">{role.name.charAt(0)}</span>
        
        <!-- Efecto de brillo interno -->
        <div class="absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-xl"></div>
      </div>
    </div>
    
    <!-- Contenido principal -->
    <div class="flex-1 min-w-0">
      <!-- Header con nombre y equipo -->
      <div class="flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3 mb-4">
        <div class="flex items-center">
          <h3 class="text-xl md:text-2xl font-bold text-gray-800 dark:text-gray-100 group-hover:text-gray-900 dark:group-hover:text-white transition-colors">
            {role.name}
          </h3>
          
          <!-- Etiqueta de equipo con icono -->
          <div class="flex items-center gap-2">
            <div class={`w-2 h-2 rounded-full ${teamCfg.textLight} ${teamCfg.textDark}`}></div>
            
          </div>
        </div>
      </div>
      
      <!-- Descripci贸n -->
      <div class="mb-5">
        <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">
          {role.description}
        </p>
      </div>
      
      <!-- Habilidad destacada -->
      <div class="mt-6 pt-5 border-t border-gray-200/50 dark:border-gray-700/50">
        <div class="flex items-center gap-2 mb-2">
          <svg class={`w-4 h-4 ${teamCfg.textLight} ${teamCfg.textDark}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
          </svg>
          <span class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide">
            Habilidad Especial
          </span>
        </div>
        <div class={`bg-white/50 dark:bg-gray-800/30 rounded-lg p-3 border ${teamCfg.borderLight} ${teamCfg.borderDark}`}>
          <p class="text-sm font-medium text-gray-700 dark:text-gray-200">
            {role.ability}
          </p>
        </div>
      </div>
      
    </div>
  </div>
</div>

<style>
  .card {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .card:hover {
    transform: translateY(-4px) scale(1.02);
  }
  
  /* Efecto de brillo sutil en hover */
  .card:hover .group-hover\:blur-lg {
    filter: blur(12px);
    opacity: 0.5;
  }
</style>